<head>
  <title>meteor-multiple-authentication-services</title>
</head>

<body>
  <div class="container">
    <h1>meteor-multiple-authentication-services</h1>

    <p>
      Application to resolve issue with multiple accounts being created for the 
      same user (same email address) when using external authenticaton services (Google, Facebook, etc.)
    </p>

    {{> loginButtons}}

    <hr>

    <p>Total users: {{userCount}}</p>

    {{> users}}
  </div>
</body>

<template name="users">

  <table class="table table-striped">
    <thead>
      <tr>
        <th></th>
        <th>id</th>
        <th>email</th>
        <th>services</th>
      </tr>
    </thead>

    <tbody>
      {{#each users}}
      <tr>
        <td>
          {{#if isUser}}
            <i class="fa fa-arrow-right fa-3"></i>
          {{/if}}
        </td>
        <td>{{_id}}</td>
        <td>
          {{#each emails}}
            <p>{{address}}</p>
          {{/each}}        
        </td>
        <td>
          {{#each services}}
            <p>{{key}}</p>
          {{/each}}        
        </td>
      </tr>
      {{/each}}
    </tbody>
  </table>
  
</template>

